# 課題2 最適化ソルバーの実装

## 概要

0-1連続ナップザック問題を高速に求めることができる最適化ソルバーを実装する．実装にあたっては分枝限定法を用いる．

## 問題

品物の数を $n$，品物 $i$ の値段を $p(i)$ とし，さらに品物 $i$ を選択するときのみ1となるような関数 $x(i)$ すなわち，

$$
x(i) = \begin{cases}
    1 & \text{if $i$ is selected} \\
    0 & \text{otherwise}
\end{cases}
$$


を考える．この変数の定義のもとで，最適化ソルバーは次のような最適化問題を解くことができる．

$$
\begin{split}
&\text{Maximize} \quad \sum_{j=1}^{n} p(j)x(j) \\
&\text{s.t.} \\
&\forall i\in \{1,\, 2\, \dots ,\, n\}; \sum_{j=1}^n r(i,\, j)x(j) \leq b(i) \\
\end{split}
$$

## 実装

分枝限定法を用いて実装を行った．元の問題を複数の部分問題に分割し（分割操作），分割した部分問題に対してその上界を求め，元の問題の暫定解を更新できないと判断した際はそれ以上探索を行わないようにした（限定操作）．また，探索は深さ優先で探索を行った．

## ディレクトリ構成

### [./src/main.py](./src/main.py)

（自作の）ソルバーを実行するためのメイン関数を定義する．

```
% python3 main.py sys.argv[1]
```

の形式で実行することで，ソルバーを実行することができる．ただし，`sys.argv[1]` にファイル名を指定する必要がある．

### [./src/time.py](./src/time.py)

全てのテストケースに対して，実行時間の計測を行うことができる．ただしベンチマークとして「全探索」，「Gurobi」を用いた実行時間の測定を行うこともできる．（Gurobi の実行にはライセンスが必要である．）

```
% python3 time.py sys.argv[1]
```

の形式で実行することができる．ただし，`sys.argv[1]` への引数は

- 1: 全探索
- 2: Gurobi
- 3: 自作ソルバー（分枝限定法）
- otherwise: 無効な入力

となっている．また，各テストケースに対して実行時間が10秒を超えるとTLEとなる．

### `./src/test_hoge.py`

`./src/lib/hoge.py` のテストモジュール．`pytest` を用いてテストを行う．

## 実行方法

TODO: 実行方法を説明する